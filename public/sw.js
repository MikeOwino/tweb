(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{if(void 0!==e){var t=e.u,n=e.e,o=new Map,r=new Map;e.u=function(e){return t(e)+(o.has(e)?"?"+o.get(e):"")},e.e=function(i){return n(i).catch((function(n){var s=r.has(i)?r.get(i):999999;if(s<1){var a=t(i);throw n.message="Loading chunk "+i+" failed after 999999 retries.\n("+a+")",n.request=a,n}return new Promise((function(t){setTimeout((function(){var n=Date.now();o.set(i,n),r.set(i,s-1),t(e.e(i))}),3e3)}))}))}}})(),e.d({},{T:()=>ee,c:()=>Q});const t={test:location.search.indexOf("test=1")>0,debug:location.search.indexOf("debug=1")>0,http:!1,ssl:!0,multipleConnections:!0,asServiceWorker:!1,transport:"websocket"};t.http=location.search.indexOf("http=1")>0,t.http&&(t.transport="https");const n=t,o=n.debug,r=("undefined"!=typeof window?window:self,o),i="undefined"!=typeof window?window:self,s=navigator?navigator.userAgent:null,a=(navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i),navigator.userAgent.toLowerCase().indexOf("android"),/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&i.MSStream,!!("safari"in i)||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))),c=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l=(navigator.maxTouchPoints>0&&navigator.userAgent.search(/iOS|iPhone OS|Android|BlackBerry|BB10|Series ?[64]0|J2ME|MIDP|opera mini|opera mobi|mobi.+Gecko|Windows Phone/i),"undefined"!=typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope),u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&!l,h=()=>self.clients.matchAll({includeUncontrolled:!1,type:"window"}),d=(e,...t)=>{self.clients.matchAll({includeUncontrolled:!1,type:"window"}).then((n=>{n.length&&n.slice(e?0:-1).forEach((e=>{e.postMessage(...t)}))}))};var f;l&&d.bind(null,!1),l&&d.bind(null,!0),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Log=4]="Log",e[e.Debug=8]="Debug"}(f||(f={}));const g=[f.None,f.Error,f.Warn,f.Log,f.Debug],p=Date.now();function m(){return"["+((Date.now()-p)/1e3).toFixed(3)+"]"}let v;const w=a||c;v=w?e=>e.split("@")[0]:e=>{const t=e.trim().split(" ");if(3===t.length)return t[1].slice(t[1].lastIndexOf(".")+1)};const y=!w,b=w?2:3;function P(){const e=(new Error).stack.split("\n"),t=e[b]||e[e.length-1];return"["+(v(t)||"<anonymous>")+"]"}const S="[33m",A="[36m",O=[["debug",f.Debug],["info",f.Log],["warn",f.Warn],["error",f.Error],["assert",f.Error],["trace",f.Log]];function T(e,t=f.Log|f.Warn|f.Error,n=!1,o=""){let i;r||n||(t=f.Error),y?o||(l?o=S:u&&(o=A)):o="";let s=o;o=o?`%s ${o}%s`:"%s";const a=function(...n){return t&f.Log&&console.log(o,m(),e,P(),...n)};return O.forEach((([n,r])=>{a[n]=function(...i){return t&r&&console[n](o,m(),e,P(),...i)}})),a.setPrefix=function(t){i=t,e="["+t+"]"},a.setPrefix(e),a.setLevel=function(e){t=g.slice(0,e+1).reduce(((e,t)=>e|t),0)},a.bindPrefix=function(e){return T(`${i}] [${e}`,t,n,s)},a}const E=self,_="cachedAssets";function x(e){return e.ok&&200===e.status}function k(e){return Promise.race([e,(1e4,new Promise((e=>{setTimeout(e,1e4)}))).then((()=>Promise.reject()))])}function D(e){return function(e){return function(e,t){return new Promise((t=>{const n=new FileReader;n.addEventListener("loadend",(e=>{t(e.target.result)})),n.readAsArrayBuffer(e)}))}(e)}(e).then((e=>new Uint8Array(e)))}function C(){}function j(e,t=""){let n;const o=function(e){return-1===["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/bmp","video/mp4","video/webm","video/quicktime","audio/ogg","audio/mpeg","audio/mp4","application/json","application/pdf"].indexOf(e)?"application/octet-stream":e}(t);try{n=new Blob(e,{type:o})}catch(t){let r=new BlobBuilder;e.forEach((e=>{r.append(e)})),n=r.getBlob(o)}return n}const F=new class{constructor(){this.blobSupported=!0;try{j([],"")}catch(e){this.blobSupported=!1}}isAvailable(){return this.blobSupported}write(e,t){return t instanceof Blob?D(t).then((t=>e.write(t))):e.write(t)}getFakeFileWriter(e,t){const n=[];return{write:e=>{return t=this,o=void 0,i=function*(){if(!this.blobSupported)throw!1;n.push(e)},new((r=void 0)||(r=Promise))((function(e,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}c((i=i.apply(t,o||[])).next())}));var t,o,r,i},truncate:()=>{n.length=0},finalize:(o=!0)=>{const r=j(n,e);return o&&t&&t(r),r}}}};class R{constructor(e){this.dbName=e,this.useStorage=!0,n.test&&(this.dbName+="_test"),R.STORAGES.length&&(this.useStorage=R.STORAGES[0].useStorage),this.openDatabase(),R.STORAGES.push(this)}openDatabase(){var e;return null!==(e=this.openDbPromise)&&void 0!==e?e:this.openDbPromise=caches.open(this.dbName)}delete(e){return this.timeoutOperation((t=>t.delete("/"+e)))}deleteAll(){return caches.delete(this.dbName)}get(e){return this.timeoutOperation((t=>t.match("/"+e)))}save(e,t){return this.timeoutOperation((n=>n.put("/"+e,t)))}getFile(e,t="blob"){return this.get(e).then((e=>{if(!e)throw"NO_ENTRY_FOUND";return e[t]()}))}saveFile(e,t){t instanceof Blob||(t=j(t));const n=new Response(t,{headers:{"Content-Length":""+t.size}});return this.save(e,n).then((()=>t))}timeoutOperation(e){return this.useStorage?new Promise(((t,n)=>{return o=this,r=void 0,s=function*(){let o=!1;const r=setTimeout((()=>{n(),o=!0}),15e3);try{const n=yield this.openDatabase();if(!n)throw this.useStorage=!1,this.openDbPromise=void 0,"no cache?";const r=yield e(n);if(o)return;t(r)}catch(e){n(e)}clearTimeout(r)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i((function(e){e(o)}))).then(n,a)}c((s=s.apply(o,r||[])).next())}));var o,r,i,s})):Promise.reject("STORAGE_OFFLINE")}getFileWriter(e,t){const n=F.getFakeFileWriter(t,(t=>this.saveFile(e,t).catch((()=>t))));return Promise.resolve(n)}static toggleStorage(e){return Promise.all(this.STORAGES.map((t=>{if(t.useStorage=e,!e)return t.deleteAll()})))}}R.STORAGES=[];const N=new R("cachedStreamChunks"),L="Time-Cached";setInterval((()=>N.timeoutOperation((e=>e.keys().then((t=>{const n=new Map,o=Date.now()/1e3|0;for(const e of t){const t=e.url.match(/\/(\d+?)\?/);t&&!n.has(t[1])&&n.set(t[1],e)}const r=[];for(const[t,i]of n){const n=e.match(i).then((n=>{if(+n.headers.get(L)+86400<=o)return Q("will delete stream chunk:",t),e.delete(i,{ignoreSearch:!0,ignoreVary:!0})}));r.push(n)}return Promise.all(r)}))))),18e5),setInterval((()=>{h().then((e=>{for(const[t,n]of ee)if(!e.find((e=>e.id===t))){for(const e in n)n[e].reject();ee.delete(t)}}))}),12e4);const W=new Map;class I{constructor(e){this.info=e,this.loadedOffsets=new Set,this.destroy=()=>{W.delete(this.id)},this.id=I.getId(e),W.set(this.id,this),this.limitPart=e.size>78643200?M:q,this.destroyDebounced=function(e,t,n=!0,o=!0){let r,i,s,a,c=!1;return(...l)=>(i||(i=new Promise(((e,t)=>(s=e,a=t)))),r?(clearTimeout(r),c=!0,a(),i=new Promise(((e,t)=>(s=e,a=t)))):n&&(s(e(...l)),c=!1),r=setTimeout((()=>{!o||n&&!c||s(e(...l)),r=i=s=a=void 0,c=!1}),t),i.catch((()=>{})),i)}(this.destroy,15e4,!1,!0)}requestFilePartFromWorker(e,t,n=!1){return o=this,r=void 0,s=function*(){const o={type:"requestFilePart",payload:[this.info.dcId,this.info.location,e,t]},r=JSON.stringify(o);o.id=r;const i=yield h().then((e=>{if(e.length)return e.find((e=>ee.has(e.id)))||e[0]}));if(!i)throw new Error("no window");let s=ee.get(i.id);s||ee.set(i.id,s={});let a=s[r];if(a)return a.then((e=>e.bytes));i.postMessage(o),this.loadedOffsets.add(e),a=s[r]=function(){let e={isFulfilled:!1,isRejected:!1,notify:()=>{},notifyAll:(...t)=>{e.lastNotify=t,e.listeners.forEach((e=>e(...t)))},listeners:[],addNotifyListener:t=>{e.lastNotify&&t(...e.lastNotify),e.listeners.push(t)}},t=new Promise(((n,o)=>{e.resolve=e=>{t.isFulfilled||t.isRejected||(t.isFulfilled=!0,n(e))},e.reject=(...e)=>{t.isRejected||t.isFulfilled||(t.isRejected=!0,o(...e))}}));return t.catch(C).finally((()=>{t.notify=t.notifyAll=t.lastNotify=null,t.listeners.length=0,t.cancel&&(t.cancel=()=>{})})),Object.assign(t,e),t}();const c=a.then((e=>e.bytes));return this.saveChunkToCache(c,e,t),!n&&this.preloadChunks(e,e+15*this.limitPart),c},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i((function(e){e(o)}))).then(n,a)}c((s=s.apply(o,r||[])).next())}));var o,r,i,s}requestFilePartFromCache(e,t,n){const o=this.getChunkKey(e,t);return N.getFile(o).then((e=>n?new Uint8Array:D(e)),(e=>{}))}requestFilePart(e,t,n){return this.requestFilePartFromCache(e,t,n).then((o=>o||this.requestFilePartFromWorker(e,t,n)))}saveChunkToCache(e,t,n){return e.then((e=>{const o=this.getChunkKey(t,n),r=new Response(e,{headers:{"Content-Length":""+e.length,"Content-Type":"application/octet-stream",[L]:""+(Date.now()/1e3|0)}});return N.save(o,r)}))}preloadChunk(e){this.loadedOffsets.has(e)||(this.loadedOffsets.add(e),this.requestFilePart(e,this.limitPart,!0))}preloadChunks(e,t){if(t>this.info.size&&(t=this.info.size),e)for(;e<t;e+=this.limitPart)this.preloadChunk(e);else this.preloadChunk(B(e,this.limitPart))}requestRange(e){this.destroyDebounced();const t=function(e,t,n){return 0===e[0]&&1===e[1]?new Response(new Uint8Array(2).buffer,{status:206,statusText:"Partial Content",headers:{"Accept-Ranges":"bytes","Content-Range":`bytes 0-1/${n||"*"}`,"Content-Length":"2","Content-Type":t||"video/mp4"}}):null}(e,this.info.mimeType,this.info.size);if(t)return t;let[n,o]=e;const r=o&&o<this.limitPart?function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.log(2)))}(o-n+1):this.limitPart,i=B(n,r);return o||(o=Math.min(n+r,this.info.size-1)),this.requestFilePart(i,r).then((e=>{n===i&&o===i+r||(e=e.slice(n-i,o-i+1));const t={"Accept-Ranges":"bytes","Content-Range":`bytes ${n}-${n+e.byteLength-1}/${this.info.size||"*"}`,"Content-Length":`${e.byteLength}`};return this.info.mimeType&&(t["Content-Type"]=this.info.mimeType),new Response(e,{status:206,statusText:"Partial Content",headers:t})}))}getChunkKey(e,t){return this.id+"?offset="+e+"&limit="+t}static get(e){var t;return null!==(t=W.get(this.getId(e)))&&void 0!==t?t:new I(e)}static getId(e){return e.location.id}}const q=524288,M=1048576;function B(e,t=2048){return e-e%t}class G{constructor(e,t){this.storageIsAvailable=!0,function(e,t){if(t)for(let n in t)void 0!==t[n]&&(e[n]=t[n])}(this,e),n.test&&(this.name+="_test"),this.storeName=t,this.log=T("IDB-"+this.storeName),this.openDatabase(!0),G.STORAGES.push(this)}static closeDatabases(e){this.STORAGES.forEach((t=>{if(e&&e===t)return;const n=t.db;n&&(n.onclose=()=>{},n.close())}))}isAvailable(){return this.storageIsAvailable}openDatabase(e=!1){if(this.openDbPromise&&!e)return this.openDbPromise;try{var t=indexedDB.open(this.name,this.version);if(!t)return Promise.reject()}catch(e){return this.log.error("error opening db",e.message),this.storageIsAvailable=!1,Promise.reject(e)}let n=!1;return setTimeout((()=>{n||t.onerror({type:"IDB_CREATE_TIMEOUT"})}),3e3),this.openDbPromise=new Promise(((e,o)=>{t.onsuccess=r=>{n=!0;const i=t.result;let s=!1;this.log("Opened"),i.onerror=e=>{this.storageIsAvailable=!1,this.log.error("Error creating/accessing IndexedDB database",e),o(e)},i.onclose=e=>{this.log.error("closed:",e),!s&&this.openDatabase()},i.onabort=e=>{this.log.error("abort:",e);const t=e.target;this.openDatabase(s=!0),t.onerror&&t.onerror(e),i.close()},i.onversionchange=e=>{this.log.error("onversionchange, lol?")},e(this.db=i)},t.onerror=e=>{n=!0,this.storageIsAvailable=!1,this.log.error("Error creating/accessing IndexedDB database",e),o(e)},t.onupgradeneeded=e=>{n=!0,this.log.warn("performing idb upgrade from",e.oldVersion,"to",e.newVersion);var t=e.target.result;this.stores.forEach((e=>{t.objectStoreNames.contains(e.name)||((e,t)=>{var n;const o=e.createObjectStore(t.name);if(null===(n=t.indexes)||void 0===n?void 0:n.length)for(const e of t.indexes)o.createIndex(e.indexName,e.keyPath,e.objectParameters)})(t,e)}))}}))}delete(e){return Array.isArray(e)||(e=[].concat(e)),this.getObjectStore("readwrite",(t=>e.map((e=>t.delete(e)))),"")}clear(e){return this.getObjectStore("readwrite",(e=>e.clear()),"",e)}save(e,t){return Array.isArray(e)||(e=[].concat(e),t=[].concat(t)),this.getObjectStore("readwrite",(n=>e.map(((e,o)=>n.put(t[o],e)))),"")}saveFile(e,t){return t instanceof Blob||(t=j([t])),this.save(e,t)}get(e){return Array.isArray(e)||(e=[].concat(e)),this.getObjectStore("readonly",(t=>e.map((e=>t.get(e)))),"")}getObjectStore(e,t,n,o=this.storeName){let r;return n&&(r=performance.now(),this.log(n+": start")),this.openDatabase().then((i=>new Promise(((s,a)=>{const c=i.transaction([o],e);c.onerror=e=>{clearTimeout(l),a(c.error)},c.oncomplete=e=>{clearTimeout(l),n&&this.log(n+": end",performance.now()-r);const t=d.map((e=>e.result));s(h?t:t[0])};const l=setTimeout((()=>{this.log.error("transaction not finished",c)}),1e4),u=t(c.objectStore(o)),h=Array.isArray(u),d=h?u:[].concat(u)}))))}getAll(){return this.getObjectStore("readonly",(e=>e.getAll()),"")}}G.STORAGES=[];var U=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const $=self,z=location.protocol+"//"+location.hostname+location.pathname.split("/").slice(0,-1).join("/")+"/",V=new class{constructor(e,t,n){this.defaults=n,this.cache={},this.storage=new G(e,t)}get(e){return U(this,void 0,void 0,(function*(){if(void 0!==this.cache[e])return this.cache[e];let t;try{t=yield this.storage.get(e)}catch(e){}if(void 0!==this.cache[e])return this.cache[e];if(void 0===t){const n=this.defaults[e];t="function"==typeof n?n():n}return this.cache[e]=t}))}set(e,t){return U(this,void 0,void 0,(function*(){this.cache[e]=t;try{this.storage.save(e,t)}catch(e){}}))}}({name:"tweb",version:7,stores:[{name:"session"},{name:"stickerSets"},{name:"users"},{name:"chats"},{name:"dialogs"},{name:"messages"}]},"session",{push_mute_until:0,push_last_alive:0,push_lang:{},push_settings:{}});$.addEventListener("push",(e=>{const t=e.data.json();Q("push",t);let n=!1;const o=Promise.all([V.get("push_mute_until"),V.get("push_last_alive"),$.clients.matchAll({type:"window"})]).then((e=>{const[o,r,i]=e;if(Q("matched clients",i),n=i.length>0,n)throw"Supress notification because some instance is alive";const s=Date.now();if(X()&&o&&s<o)throw`Supress notification because mute for ${Math.ceil((o-s)/6e4)} min`;if(!t.badge)throw"No badge?"}));o.catch((e=>{Q(e)}));const r=o.then((()=>Promise.all([V.get("push_settings"),V.get("push_lang")]))).then((e=>function(e,t,n){const o="assets/img/logo_filled_rounded.png";let r,i=e.title||"Telegram",s=e.description||"";e.custom&&(r=e.custom.channel_id?""+-e.custom.channel_id:e.custom.chat_id?""+-e.custom.chat_id:e.custom.from_id||""),e.custom.peerId=""+r;let a="peer"+r;t&&t.nopreview&&(i="Telegram",s=n.push_message_nopreview||"You have a new message",a="unknown_peer"),Q("show notify",i,s,o,e);const c=[{action:"mute1d",title:n.push_action_mute1d||"Mute for 24H"}];return $.registration.showNotification(i,{body:s,icon:o,tag:a,data:e,actions:c}).then((e=>{var t;e&&e.notification&&(t=e.notification,K.has(t)||(K.add(t),t.onclose=Y))})).catch((e=>{Q.error("Show notification promise",e)}))}(t,e[0],e[1]))),i=r.catch((()=>(Q("Closing all notifications on push",n),X()||n?H():$.registration.showNotification("Telegram",{tag:"unknown_peer"}).then((()=>{if(n)return H();setTimeout((()=>H()),n?0:100)})).catch((e=>{Q.error("Show notification error",e)})))));e.waitUntil(i)})),$.addEventListener("notificationclick",(e=>{const t=e.notification;Q("On notification click: ",t.tag),t.close();const n=e.action;if("mute1d"===n&&X())return Q("[SW] mute for 1d"),void V.set("push_mute_until",Date.now()+864e5);const o=t.data;if(!o)return;const r=$.clients.matchAll({type:"window"}).then((e=>{o.action=n,J={type:"push_click",payload:o};for(let t=0;t<e.length;t++){const n=e[t];if("focus"in n)return n.focus(),n.postMessage(J),void(J=void 0)}if($.clients.openWindow)return V.get("push_settings").then((e=>$.clients.openWindow(e.baseUrl||z)))})).catch((e=>{Q.error("Clients.matchAll error",e)}));e.waitUntil(r)})),$.addEventListener("notificationclose",Y);let J,K=new Set;function Y(e){var t;t=e.notification,K.delete(t)}function H(){for(const e of K)try{e.close()}catch(e){}let e;return e="getNotifications"in $.registration?$.registration.getNotifications({}).then((e=>{for(let t=0,n=e.length;t<n;++t)try{e[t].close()}catch(e){}})).catch((e=>{Q.error("Offline register SW error",e)})):Promise.resolve(),K.clear(),e}function X(){return c}const Q=T("SW",f.Error|f.Debug|f.Log|f.Warn),Z=self,ee=new Map,te={notifications_clear:()=>{H()},ping:(e,t)=>{!function(e,t){const n=t.ports&&t.ports[0]||t.source,o=e.payload;o.localNotifications&&V.set("push_last_alive",Date.now()),J&&n&&"postMessage"in n&&(n.postMessage(J,[]),J=void 0),o.lang&&V.set("push_lang",o.lang),o.settings&&V.set("push_settings",o.settings)}(e,t)},requestFilePart:(e,t)=>{const n=t.source,o=ee.get(n.id);if(!o)return;const r=o[e.id];r&&(e.error?r.reject(e.error):r.resolve(e.payload),delete o[e.id])},toggleStorage:e=>{R.toggleStorage(e.payload)}};Z.addEventListener("message",(e=>{const t=e.data,n=te[t.type];n&&n(t,e)}));const ne=e=>{if(0===e.request.url.indexOf(location.origin+"/")&&e.request.url.match(/\.(js|css|jpe?g|json|wasm|png|mp3|svg|tgs|ico|woff2?|ttf|webmanifest?)(?:\?.*)?$/))return e.respondWith(function(e){return t=this,n=void 0,r=function*(){try{const t=yield k(E.caches.open(_)),n=yield k(t.match(e.request,{ignoreVary:!0}));if(n&&x(n))return n;const o={Vary:"*"};let r=yield fetch(e.request,{headers:o});if(x(r))t.put(e.request,r.clone());else if(304===r.status){const n=e.request.url.replace(/\?.+$/,"")+"?"+(1e5*Math.random()|0);r=yield fetch(n,{headers:o}),x(r)&&t.put(e.request,r.clone())}return r}catch(t){return fetch(e.request)}},new((o=void 0)||(o=Promise))((function(e,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,o,r}(e));try{const[,t,n,o]=/http[:s]+\/\/.*?(\/(.*?)(?:$|\/(.*)$))/.exec(e.request.url)||[];"stream"===n&&function(e,t){const n=function(e){if(!e)return[0,0];const[,t]=e.split("="),n=t.split(", "),[o,r]=n[0].split("-");return[+o,+r||0]}(e.request.headers.get("Range")),o=JSON.parse(decodeURIComponent(t)),r=I.get(o);e.respondWith(Promise.race([(45e3,new Promise((e=>{setTimeout((()=>{e(new Response("",{status:408,statusText:"Request timed out."}))}),45e3)}))),r.requestRange(n)]))}(e,o)}catch(t){e.respondWith(new Response("",{status:500,statusText:"Internal Server Error"}))}},oe=()=>{Z.onfetch=ne};Z.addEventListener("install",(e=>{Q("installing"),e.waitUntil(Z.skipWaiting())})),Z.addEventListener("activate",(e=>{Q("activating",Z),e.waitUntil(Z.caches.delete(_)),e.waitUntil(Z.clients.claim())})),Z.onerror=e=>{Q.error("error:",e)},Z.onunhandledrejection=e=>{Q.error("onunhandledrejection:",e)},Z.onoffline=Z.ononline=oe,oe()})();
//# sourceMappingURL=sw.js.map